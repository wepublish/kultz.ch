fragment ArticleRef on Article {
  id
  publishedAt
  updatedAt
  tags
  preTitle
  title
  lead
  slug
  image {
    url
  }

  authors {
    links {
      url
      title
    }

    name

    bio
  }
}

query ArticleList($filter: [String!], $after: ID, $first: Int) {
  articles(first: $first, after: $after, filter: {tags: $filter}) {
    nodes {
      ...ArticleRef
    }

    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }

    totalCount
  }
}

query Article($id: ID!) {
  article(id: $id) {
    id
    updatedAt
    publishedAt
    slug
    url
    preTitle
    title
    lead
    tags
    properties {
      key
      value
    }
    breaking

    authors {
      image {
        url
        largeURL: transformURL(input: {width: 500})
        mediumURL: transformURL(input: {width: 300})
        thumbURL: transformURL(input: {width: 280, height: 200})
        squareURL: transformURL(input: {width: 100, height: 100})
        previewURL: transformURL(input: {width: 400, height: 200})
        column1URL: transformURL(input: {width: 800, height: 300})
        column6URL: transformURL(input: {width: 260, height: 300})
        id
        filename
        extension
        title
        description
        width
        height
      }
      links {
        url
        title
      }

      bio
    }

    blocks {
      ...TitleBlockData
      ...RichtTextBlockData
      ...ImageBlockData
      ...ImageGalleryBlockData
      ...ListicleBlockData

      ...LinkPageBreakBlockData

      ...FacebookPostBlockData
      ...InstagramPostBlockData
      ...TwitterTweetBlockData
      ...VimeoVideoBlockData
      ...YoutubeVideoBlockData
      ...SoundCloudTrackBlockData

      ...EmbedBlockData

      ...QuoteBlockData
    }
  }
}
